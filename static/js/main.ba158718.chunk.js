(this["webpackJsonpteam-picker"]=this["webpackJsonpteam-picker"]||[]).push([[0],{33:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(1),c=t.n(r),s=t(12),l=t.n(s),i=(t(33),function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("i",{className:"fas fa-futbol"})," Save Our Play"]})})}),o=function(e){var a=e.clickAbout,t=e.aboutDisplayed;return Object(n.jsx)("button",{className:"about-button",onClick:a,children:t?"Hide info":"More info"})},u=t(2),b=Object(u.b)((function(e){return{aboutDisplayed:e.aboutDisplayed}}),(function(e){return{clickAbout:function(){return e({type:"ABOUT_CLICKED"})}}}))(o),h=function(e){var a=e.aboutDisplayed;return Object(n.jsxs)("section",{className:"about-section",children:[Object(n.jsx)("div",{className:"overview-wrapper",children:Object(n.jsxs)("div",{className:"about-box overview",children:[Object(n.jsx)("h3",{className:"about-subheading",children:"Pick teams fairly and plan a series of friendly games, where everyone gets their turn."}),Object(n.jsx)(b,{aboutDisplayed:a}),a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{className:"about-text about-1",children:"Save Our Play is for groups who play a regular series of games, considering:"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Not everyone is available to play in each game."}),Object(n.jsx)("li",{children:"More people may want to play than the team size - particularly with current COVID restrictions on the numbers in which teams can safely meet and practice."})]})]}):null]})}),a?Object(n.jsxs)("div",{className:"about-boxes",children:[Object(n.jsxs)("div",{className:"about-box",children:[Object(n.jsxs)("h3",{className:"about-subheading",children:[Object(n.jsx)("i",{className:"fas fa-volleyball-ball"})," Player bank"]}),Object(n.jsxs)("p",{className:"about-text",children:["To help adjudicate who\u2019s due the next game when there are more people who want to play than spaces available, the player bank keeps track of the games assigned to each player on ",Object(n.jsx)("span",{className:"button-span",children:"Save"}),". You can ",Object(n.jsx)("span",{className:"button-span",children:"Pick"})," available players directly from the bank when you plan games."]})]}),Object(n.jsxs)("div",{className:"about-box",children:[Object(n.jsxs)("h3",{className:"about-subheading",children:[Object(n.jsx)("i",{className:"fas fa-basketball-ball"})," Draw by play-count"]}),Object(n.jsxs)("p",{className:"about-text",children:["The ",Object(n.jsx)("span",{className:"button-span",children:"Draw"})," feature automatically picks players with the lowest play-counts. If multiple players have the lowest count, the selection is randomised within this set. Any team size is supported, respecting variation in restrictions."]})]}),Object(n.jsxs)("div",{className:"about-box",children:[Object(n.jsxs)("h3",{className:"about-subheading",children:[Object(n.jsx)("i",{className:"far fa-futbol"})," Randomise Teams"]}),Object(n.jsxs)("p",{className:"about-text",children:["Once happy with player selection, sort players into teams randomly with ",Object(n.jsx)("span",{className:"button-span",children:"Create teams"}),". Randomise arrangements again with",Object(n.jsx)("span",{className:"button-span",children:"Reshuffle teams"}),"."]})]}),Object(n.jsxs)("div",{className:"about-box",children:[Object(n.jsxs)("h3",{className:"about-subheading",children:[Object(n.jsx)("i",{className:"fas fa-futbol"})," Team name generator"]}),Object(n.jsxs)("p",{className:"about-text",children:["Don\u2019t take play too seriously? The ",Object(n.jsx)("span",{className:"button-span",children:"Generate team name"}),"feature will give you a (near) endless supply of tongue-in-cheek triple-barrel names for each side."]})]}),Object(n.jsxs)("div",{className:"about-box",children:[Object(n.jsx)("h3",{className:"about-subheading",children:"Version 2 information:"}),Object(n.jsxs)("p",{className:"about-text",children:["Save our Play now stores player data between sessions, powered by ",Object(n.jsx)("a",{href:"https://github.com/ammersive/tp-back/",target:"_blank",rel:"noreferrer",children:"this API"}),". Version 1, which returns to a default state between browser sessions, can be found ",Object(n.jsx)("a",{href:"https://ammersive.github.io/team-picker/",target:"_blank",rel:"noreferrer",children:"here"}),". "]}),Object(n.jsx)(b,{aboutDisplayed:a})]})]}):null]})},j=Object(u.b)((function(e){return{aboutDisplayed:e.aboutDisplayed}}))(h),d=t(5),p=t(6),m=t(8),O=t(7),f=t(4),y=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleClick=n.handleClick.bind(Object(f.a)(n)),n}return Object(p.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.selectPlayer(this.props.player)}},{key:"render",value:function(){return Object(n.jsx)("button",{onClick:this.handleClick,children:"Pick"})}}]),t}(r.Component),x=Object(u.b)((function(e){return{bank:e.bank}}),(function(e){return{selectPlayer:function(a){return e(function(e){return{type:"PICK_PLAYER",player:e}}(a))}}}))(y),k=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleClick=n.handleClick.bind(Object(f.a)(n)),n}return Object(p.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),window.confirm("Do you want to delete this player?")&&this.props.selectPlayer(this.props.player)}},{key:"render",value:function(){return Object(n.jsx)("button",{"aria-label":"delete",className:"bank-clear",onClick:this.handleClick,children:Object(n.jsx)("i",{className:"far fa-trash-alt"})})}}]),t}(r.Component),v=t(26),N=t.n(v).a.create({baseURL:"https://save-our-play.developme.space/api/players",headers:{Accept:"application/json"}}),g=Object(u.b)((function(e){return{bank:e.bank}}),(function(e){return{selectPlayer:function(a){return e(function(e){var a=e.id;return function(e){N.delete("/".concat(a)).then((function(){e(function(e){return{type:"DELETE_PLAYER",playerId:e}}(a))}))}}(a))}}}))(k),C=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.handleLoad()}},{key:"render",value:function(){var e=this.props,a=e.bank,t=e.players;return Object(n.jsxs)("div",{className:"bank",children:[Object(n.jsx)("h3",{children:"Player bank"}),a.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"Number of plays"}),Object(n.jsx)("ul",{children:a.map((function(e){return Object(n.jsxs)("li",{className:t.some((function(a){return a.id===e.id}))?"picked":null,children:[Object(n.jsx)("div",{className:"bank-button-wrap",children:Object(n.jsx)(g,{player:e})}),Object(n.jsx)("div",{className:"player-cell",children:e.name}),Object(n.jsx)("div",{className:"play-count-cell",children:e.play_count}),Object(n.jsx)("div",{className:"bank-button-wrap",children:Object(n.jsx)(x,{player:e})})]})}))})]}):Object(n.jsx)("p",{className:"no-players",children:"Bank is empty"})]})}}]),t}(r.Component),w=Object(u.b)((function(e){return{bank:e.bank,players:e.players}}),(function(e){return{handleLoad:function(){return e((function(e){N.get("/").then((function(a){var t=a.data.data;e({type:"STORE_PLAYERS",data:t})}))}))}}}))(C),E=t(3),A=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).state={player:{id:null,name:"",play_count:1}},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(p.a)(t,[{key:"handleChange",value:function(e){var a={id:null,name:e.currentTarget.value,play_count:1};this.setState({player:a})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSave(Object(E.a)({},this.state)),this.setState({player:{id:null,name:"",play_count:1}})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"draw-add-players",children:[Object(n.jsx)("h3",{children:"Add"}),Object(n.jsx)("p",{children:"Add new player"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("input",{onChange:this.handleChange,value:this.state.player.name}),Object(n.jsx)("button",{className:"add-button",children:"Add"})]})]})}}]),t}(r.Component),D=Object(u.b)((function(e){return{player:e.player}}),(function(e){return{handleSave:function(a){return e({type:"ADD_PLAYER",player:a.player})}}}))(A),S=function(e){var a=e.clickDraw;return Object(n.jsxs)("div",{className:"draw-add-players",children:[Object(n.jsx)("h3",{children:"Draw"}),Object(n.jsx)("p",{children:"Draw players due a game"}),Object(n.jsx)("button",{className:"draw-button",onClick:a,children:"Draw"})]})},P=Object(u.b)((function(e){return{bank:e.bank}}),(function(e){return{clickDraw:function(){return e({type:"DRAW_PLAYER"})}}}))(S),T=function(e){var a=e.players,t="";return a.length%2===0&&a.length>0?t="".concat(a.length," players added. Even teams, great!"):1===a.length?t="".concat(a.length," player added. Teams will be uneven..."):a.length%2===1&&(t="".concat(a.length," players added. Teams will be uneven...")),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("ul",{className:"players-list",children:a.map((function(e,a){return Object(n.jsx)("li",{className:"player-list-item",children:e.name},a)}))}),Object(n.jsx)("p",{className:"message",children:t})]})},_=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleClick=n.handleClick.bind(Object(f.a)(n)),n}return Object(p.a)(t,[{key:"handleClick",value:function(){this.props.createClick()}},{key:"render",value:function(){return this.props.players.length>0?Object(n.jsx)("button",{className:"create-button",onClick:this.handleClick,children:"Create Teams"}):Object(n.jsx)("p",{className:"no-players",children:"No players picked yet"})}}]),t}(r.Component),L=Object(u.b)(null,(function(e){return{createClick:function(){return e({type:"CREATE_TEAMS"})}}}))(_),R=function(e){var a=e.clickClearPickedPlayers,t=e.buttonText;return e.players.length>0?Object(n.jsx)("button",{className:"clear-picked-players",onClick:a,children:t}):null},M=Object(u.b)(null,(function(e){return{clickClearPickedPlayers:function(){return e({type:"CLEAR_CLICKED_PLAYERS"})}}}))(R),Y=function(e){var a=e.players;return Object(n.jsxs)("div",{className:"picks",children:[Object(n.jsx)("h3",{children:"Picks"}),Object(n.jsx)(T,{players:a}),Object(n.jsx)(L,{players:a}),Object(n.jsx)(M,{players:a,buttonText:"Clear these players"})]})},I=Object(u.b)((function(e){return{players:e.players}}))(Y),B=function(e){var a=e.players,t=e.bank;return e.playersChosen?null:Object(n.jsxs)("section",{className:"section-wrapper players-wrapper",children:[Object(n.jsx)("header",{className:"section-header",children:Object(n.jsxs)("h2",{children:[Object(n.jsx)("i",{className:"fas fa-futbol"})," Select Players"]})}),Object(n.jsxs)("div",{className:"players-content-wrapper",children:[Object(n.jsx)("div",{className:"bank-wrapper",children:Object(n.jsx)(w,{bank:t})}),Object(n.jsxs)("div",{className:"draw-add-wrapper",children:[Object(n.jsx)(P,{bank:t}),Object(n.jsx)(D,{bank:t,players:a})]}),Object(n.jsx)("div",{className:"picks-wrapper",children:Object(n.jsx)(I,{})})]})]})},F=Object(u.b)((function(e){return{bank:e.bank,players:e.players,playersChosen:e.playersChosen}}))(B),G=function(e){var a=e.teamName,t=e.team,r=e.generateClick;return Object(n.jsxs)("div",{className:"team-wrapper",children:[Object(n.jsx)("h3",{className:"team-name",children:a}),Object(n.jsx)("button",{className:"generate",onClick:r,children:"Team"===a.substring(0,4)?"Generate team name":"New name"}),Object(n.jsx)("ul",{className:"team-list",children:t.map((function(e,a){return Object(n.jsx)("li",{className:"team-member",children:e.name},a)}))})]})},K=Object(u.b)((function(e){return{teamName:e.team1Name,team:e.team1}}),(function(e){return{generateClick:function(){return e({type:"GENERATE_NAME1"})}}}))(G),V=Object(u.b)((function(e){return{teamName:e.team2Name,team:e.team2}}),(function(e){return{generateClick:function(){return e({type:"GENERATE_NAME2"})}}}))(G),z=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).handleClick=n.handleClick.bind(Object(f.a)(n)),n}return Object(p.a)(t,[{key:"handleClick",value:function(){this.props.shuffleClick()}},{key:"render",value:function(){return Object(n.jsx)("button",{onClick:this.handleClick,children:"Reshuffle teams"})}}]),t}(r.Component),H=Object(u.b)(null,(function(e){return{shuffleClick:function(){return e({type:"RANDOMISE_TEAMS"})}}}))(z),U=function(e){Object(m.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).state={players:e.players},n.handleSave=n.handleSave.bind(Object(f.a)(n)),n}return Object(p.a)(t,[{key:"handleSave",value:function(){var e=[];this.state.players.forEach((function(a){return e.push(a)})),this.props.handleSave(e),this.setState({players:[]})}},{key:"render",value:function(){return Object(n.jsx)("button",{onClick:this.handleSave,children:"Save"})}}]),t}(r.Component),W=Object(u.b)((function(e){return{players:e.players}}),(function(e){return{handleSave:function(a){return e(function(e){var a=[],t=[];return e.forEach((function(e){return null===e.id?a.push(e):t.push(e.id)})),a.forEach((function(e){return delete e.id})),function(e){N.post("/",a),N.put("/",t).then((function(){e({type:"SAVE"})}))}}(a))}}}))(U),J=function(e){var a=e.playersChosen,t=e.players;return a?Object(n.jsxs)("section",{className:"section-wrapper game-wrapper",children:[Object(n.jsx)("header",{className:"section-header",children:Object(n.jsxs)("h2",{children:[Object(n.jsx)("i",{className:"fas fa-futbol"})," Teams"]})}),Object(n.jsx)("div",{className:"shuffle",children:Object(n.jsx)(H,{})}),Object(n.jsxs)("div",{className:"teams",children:[Object(n.jsx)("div",{className:"team",children:Object(n.jsx)(K,{})}),Object(n.jsx)("div",{className:"team",children:Object(n.jsx)(V,{})})]}),Object(n.jsx)("div",{className:"save",children:Object(n.jsx)(W,{players:t})})]}):null},X=Object(u.b)((function(e){return{players:e.players,team1Name:e.team1Name,team2Name:e.team2Name,playersChosen:e.playersChosen}}))(J),q=function(e){var a=e.aboutDisplayed;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(i,{}),Object(n.jsx)(j,{aboutDisplayed:a}),Object(n.jsx)(F,{}),Object(n.jsx)(X,{})]})},Q=t(11),Z=t(27),$={bank:[],players:[],team1:[],team2:[],team1Name:"Team 1",team2Name:"Team 2",playersChosen:!1,aboutDisplayed:!1},ee=t(10),ae=function(e){for(var a=Object(ee.a)(e.players),t=[],n=a.length;n>0;n-=1){var r=a.splice(Math.floor(Math.random()*n),1);t.push(r[0])}return Object(E.a)(Object(E.a)({},e),{},{team1:t.slice(0,t.length/2),team2:t.slice(t.length/2)})},te=function(){var e=ne[Math.floor(Math.random()*ne.length)],a=re[Math.floor(Math.random()*re.length)],t=ce[Math.floor(Math.random()*ce.length)];return{teamName:"".concat(e," ").concat(a," ").concat(t)}},ne=["Flying","Tremendous","Furious","Surging","Majestic","Dazzling","Mighty","Dribbling","Tottering","Shambling","Staggering","Stumbling","Doddering","Shambolic","Drunken","Glorious","Magnificent","Torrential","Lightning"],re=["Foot","Toe","Big Toe","Heel","Hamstrung","Knee","Tootsie","Boot","Trainer","ArmChair","Deckchair","Couch","Sofa","Beer","Lager","Booze"],ce=["Colonels","Crushers","Divas","Amigos","Stars","Typhoons","Ladies","Boys","Squirrels","Brigade","Foxes","Heroes","Wolves","Mob","Troop","Legion","Blokes","Lassies","Lads"],se=function(e,a){switch(a.type){case"ABOUT_CLICKED":return function(e){return Object(E.a)(Object(E.a)({},e),{},{aboutDisplayed:!e.aboutDisplayed})}(e);case"STORE_PLAYERS":return function(e,a){var t=a.data;return t.forEach((function(e){return e.isPicked=!1})),t.sort((function(e,a){return a.id-e.id})),Object(E.a)(Object(E.a)({},e),{},{bank:t})}(e,a);case"PICK_PLAYER":return function(e,a){var t=a.player;return!1===t.isPicked&&(t.isPicked=!0,e.players=[].concat(Object(ee.a)(e.players),[t])),Object(E.a)({},e)}(e,a);case"DRAW_PLAYER":return function(e){if(e.bank.some((function(e){return!1===e.isPicked}))){for(var a=e.bank.filter((function(e){return!1===e.isPicked})),t=[],n=a.length;n>0;n-=1){var r=a.splice(Math.floor(Math.random()*n),1);t.push(r[0])}t.sort((function(e,a){return e.play_count-a.play_count})),t[0].isPicked=!0,e.players=[].concat(Object(ee.a)(e.players),[t[0]])}return Object(E.a)({},e)}(e);case"ADD_PLAYER":return function(e,a){var t=a.player;return t.name=t.name.trimLeft().trimRight(),""===t.name?(alert("You cannot add a nameless player!"),e):t.name.length>=50?(alert("Player names must less than 50 characters long"),e):e.bank.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?(alert("A player called ".concat(t.name," already exists in the bank. You can either add them directly from the bank with the pick button, or choose a different name")),e):e.players.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?(alert("A player called ".concat(t.name," has already been picked. You can add an initial to tell them apart")),e):Object(E.a)(Object(E.a)({},e),{},{players:[].concat(Object(ee.a)(e.players),[t])})}(e,a);case"DELETE_PLAYER":return function(e,a){var t=a.playerId,n=e.players;n.some((function(e){return e.id===t}))&&(n=n.filter((function(e){return e.id!==t})));var r=e.bank.filter((function(e){return e.id!==t}));return Object(E.a)(Object(E.a)({},e),{},{bank:Object(ee.a)(r),players:Object(ee.a)(n)})}(e,a);case"CREATE_TEAMS":return function(e){return Object(E.a)(Object(E.a)({},e),{},{playersChosen:!0})}(ae(e));case"CLEAR_CLICKED_PLAYERS":return function(e){return e.bank.forEach((function(e){return e.isPicked=!1})),Object(E.a)(Object(E.a)({},e),{},{players:[]})}(e);case"RANDOMISE_TEAMS":return ae(e);case"GENERATE_NAME1":return function(e){var a=te().teamName;return Object(E.a)(Object(E.a)({},e),{},{team1Name:a})}(e);case"GENERATE_NAME2":return function(e){var a=te().teamName;return Object(E.a)(Object(E.a)({},e),{},{team2Name:a})}(e);case"SAVE":return $;default:return e}},le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.c,ie=Object(Q.d)(se,$,le(Object(Q.a)(Z.a)));l.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(u.a,{store:ie,children:Object(n.jsx)(q,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.ba158718.chunk.js.map